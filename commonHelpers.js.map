{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const URL = 'https://pixabay.com/api/';\nconst KEY = '44841461-2c7fd944dee0b14672f32444a';\nconst imageType = \"photo\";\nconst orientation = \"horizontal\"\nconst safesearch = true;\n\nfunction onFetchForImages(query) {\n    return fetch(`${URL}?key=${KEY}&q=${query}&&image_type=${imageType}&orientation=${orientation}&safesearch=${safesearch}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}\n\nexport default onFetchForImages","\nfunction renderMarkup(hits) {\n\n    const markup = hits.map(({ largeImageURL, webformatURL, tags, views, downloads, likes, comments }) => {\n        return `<li class=\"item-gallery\">\n    <a  class=\"gallery-link\" href=${largeImageURL}><img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" width=\"360\" height=\"200\"></a>\n    <div>\n      <ul class=\"description-list\">\n        <li><p class=\"description-element\">Like<br><span>${likes}</span></p></li>\n        <li><p class=\"description-element\">Views<br><span>${views}</span></p></li>\n        <li><p class=\"description-element\">Comments<br><span>${comments}</span></p></li>\n        <li><p class=\"description-element\">Downloads<br><span>${downloads}</span></p></li>\n      </ul>\n      </img>\n  </li>\n  </div>`;\n    }).join(' ');\n    return markup;\n}\n\nexport default renderMarkup;","import fetchImages from \"./js/pixabay-api\"\nimport renderMarkup from \"./js/render-functions\"\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst emptyInput = 'Sorry, please enter text';\nconst emptySearchQuery = 'Sorry, there are not no images matching your search query';\nconst errorFetch = 'Oops'\n\nconst elements = {\n  gallery: document.querySelector('.gallery'),\n  form: document.querySelector('.js-form'),\n  loader: document.querySelector('.loader')\n};\nconst { gallery, form, loader } = elements;\nform.addEventListener('submit', handlerSubmitForm);\ngallery.addEventListener('click', handlerClickBtn)\n\nfunction handlerClickBtn(evt) {\n  evt.preventDefault()\n  if (evt.target.nodeName !== \"IMG\") {\n    return\n  }\n  new SimpleLightbox('.gallery a', { captionDelay: 250, captionPosition: 'bottom', captionsData: \"alt\" });\n}\n\nfunction handlerSubmitForm(evt) {\n  evt.preventDefault();\n  const userTarget = evt.currentTarget;\n  if (userTarget.elements.query.value.trim() === '') {\n    return createAlertMessages(\"Warning\", emptyInput)\n  }\n  else if (gallery.children.length) {\n    gallery.innerHTML = \"\"\n  }\n  loader.classList.remove('visually-hidden')\n  fetchImages(userTarget.elements.query.value)\n    .then((date) => {\n      createMarkup(date);\n    })\n    .catch(error => createAlertMessages('Error', errorFetch, error)\n    )\n    .finally(() => {\n      loader.classList.add('visually-hidden')\n      form.reset()\n    })\n}\n\nfunction createMarkup(elements) {\n  if (elements.hits.length === 0) {\n    return createAlertMessages('Warning', emptySearchQuery)\n  }\n  const imagesItem = renderMarkup(elements.hits);\n  gallery.insertAdjacentHTML('beforeend', imagesItem)\n}\n\nfunction createAlertMessages(typeMessage, alertMessage, typeError = null) {\n  return iziToast.warning({\n    title: `${typeMessage}`,\n    message: typeError ? `${alertMessage} ${typeError} ` : `${alertMessage}`,\n  })\n}"],"names":["URL","KEY","imageType","orientation","safesearch","onFetchForImages","query","response","renderMarkup","hits","largeImageURL","webformatURL","tags","views","downloads","likes","comments","emptyInput","emptySearchQuery","errorFetch","elements","gallery","form","loader","handlerSubmitForm","handlerClickBtn","evt","SimpleLightbox","userTarget","createAlertMessages","fetchImages","date","createMarkup","error","imagesItem","typeMessage","alertMessage","typeError","iziToast"],"mappings":"6vBAAA,MAAMA,EAAM,2BACNC,EAAM,qCACNC,EAAY,QACZC,EAAc,aACdC,EAAa,GAEnB,SAASC,EAAiBC,EAAO,CAC7B,OAAO,MAAM,GAAGN,CAAG,QAAQC,CAAG,MAAMK,CAAK,gBAAgBJ,CAAS,gBAAgBC,CAAW,eAAeC,CAAU,EAAE,EACnH,KAAKG,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCbA,SAASC,EAAaC,EAAM,CAgBxB,OAdeA,EAAK,IAAI,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,UAAAC,EAAW,MAAAC,EAAO,SAAAC,CAAQ,IACpF;AAAA,oCACqBN,CAAa,cAAcC,CAAY,UAAUC,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA,2DAG9CG,CAAK;AAAA,4DACJF,CAAK;AAAA,+DACFG,CAAQ;AAAA,gEACPF,CAAS;AAAA;AAAA;AAAA;AAAA,SAKpE,EAAE,KAAK,GAAG,CAEf,CCXA,MAAMG,EAAa,2BACbC,EAAmB,4DACnBC,EAAa,OAEbC,EAAW,CACf,QAAS,SAAS,cAAc,UAAU,EAC1C,KAAM,SAAS,cAAc,UAAU,EACvC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EACM,CAAE,QAAAC,EAAS,KAAAC,EAAM,OAAAC,CAAM,EAAKH,EAClCE,EAAK,iBAAiB,SAAUE,CAAiB,EACjDH,EAAQ,iBAAiB,QAASI,CAAe,EAEjD,SAASA,EAAgBC,EAAK,CAC5BA,EAAI,eAAgB,EAChBA,EAAI,OAAO,WAAa,OAG5B,IAAIC,EAAe,aAAc,CAAE,aAAc,IAAK,gBAAiB,SAAU,aAAc,KAAK,CAAE,CACxG,CAEA,SAASH,EAAkBE,EAAK,CAC9BA,EAAI,eAAc,EAClB,MAAME,EAAaF,EAAI,cACvB,GAAIE,EAAW,SAAS,MAAM,MAAM,KAAM,IAAK,GAC7C,OAAOC,EAAoB,UAAWZ,CAAU,EAEzCI,EAAQ,SAAS,SACxBA,EAAQ,UAAY,IAEtBE,EAAO,UAAU,OAAO,iBAAiB,EACzCO,EAAYF,EAAW,SAAS,MAAM,KAAK,EACxC,KAAMG,GAAS,CACdC,EAAaD,CAAI,CACvB,CAAK,EACA,MAAME,GAASJ,EAAoB,QAASV,EAAYc,CAAK,CAC7D,EACA,QAAQ,IAAM,CACbV,EAAO,UAAU,IAAI,iBAAiB,EACtCD,EAAK,MAAO,CAClB,CAAK,CACL,CAEA,SAASU,EAAaZ,EAAU,CAC9B,GAAIA,EAAS,KAAK,SAAW,EAC3B,OAAOS,EAAoB,UAAWX,CAAgB,EAExD,MAAMgB,EAAa1B,EAAaY,EAAS,IAAI,EAC7CC,EAAQ,mBAAmB,YAAaa,CAAU,CACpD,CAEA,SAASL,EAAoBM,EAAaC,EAAcC,EAAY,KAAM,CACxE,OAAOC,EAAS,QAAQ,CACtB,MAAO,GAAGH,CAAW,GACrB,QAASE,EAAY,GAAGD,CAAY,IAAIC,CAAS,IAAM,GAAGD,CAAY,EAC1E,CAAG,CACH"}